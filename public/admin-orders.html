<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Admin Orders - Suits N Glam</title>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>

<nav class="navbar navbar-expand-lg" style="background-color:#e3f2fd;">
  <div class="container">
    <a class="navbar-brand" href="index.html">Suits N Glam</a>
  </div>
</nav>

<div class="container mt-4">
  <h2>Admin — Orders</h2>
  <div id="ordersTable" class="mt-3"></div>

  <div class="mt-4">
    <a href="index.html" class="btn btn-primary">Continue Shopping</a>
  </div>
</div>

<script src="js/google-auth.js"></script>
<script src="js/navbar.js"></script>
<script>
  (async function(){
    const raw = localStorage.getItem("sg_user");
    if (!raw) {
      alert("Please login first");
      window.location.href = "index.html";
      return;
    }
    const user = JSON.parse(raw);
    const admins = ["sohabrar10@gmail.com","suitsnglam01@gmail.com"];
    if (!admins.includes(user.email)) {
      alert("Admin access only");
      window.location.href = "index.html";
      return;
    }

    // fetch and render orders via your API if available...
    // minimal fallback: read localStorage orders
    const orders = JSON.parse(localStorage.getItem("orders")||"[]");
    const out = document.getElementById("ordersTable");
    if (!orders.length) {
      out.innerHTML = "<p>No orders yet.</p>";
    } else {
      out.innerHTML = orders.map(o => `<div class="card p-3 mb-2">
        <strong>${o.id}</strong> — ₹${o.total} — ${o.status}
        </div>`).join("");
    }
  })();
</script>
</body>
</html>
